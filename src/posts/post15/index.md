---
title: '2022年前半振り返り'
date: '2022-08-09'
tags: ['振り返り', '技術']
slug: log-202109-202208
---

<br>
<div align="center">
    <img src="../images/posts-image/2022-08-09.jpg">
</div>
<br><br>

前からだいぶ間が空き、昨年末～今年まで本気でフロントエンド周りの知識 UP に努めてきたので<br>
振り返り、今後きちんとアウトプットしていくことも含めて記録を残します。

blog に関して理解しやすい形で記事を公開ようとして notion に下書きアウトプットしまくっており<br>
それで満足してしまっていた部分もあるので、notion の下書きを公開を意識しつつ、<br>
書き溜める → 記事化する方向に持っていければ今月以降は安定して振り返っていけるイメージです。<br>
[DoorLog さんのやり方がすごくいいと思ったので。](https://toshi0607.com/)

# 技術関連

## 本業

- Vue / Nuxt + AWS Lambda 中心 のフルスタック環境での開発
- React / Next + AWS ECS の フロントエンド専任開発

### フルスタック環境での開発


フルスタック開発については GraphQL のサーバー側機能を作ったり、Lamda から Dynamo or RDS<br>
みたいなつなぎ方もしていたため、React を使用していない以外フルスタック環境としては<br>
現在のモダン開発現場としての体験ができたかなと思います。

- Vue2 + Nuxt + TypeScript + Vuex
- Cypress によるテストコード経験、過去の Jest 経験と合わせてテストコードで完結
- GitHub Actions + CloudFormation による CI/CD の基礎、改善(時間半分程度まで短縮)
- Apollo Server での BFF クッション + GraphQL メインの API 環境開発

### フロントエンド専任開発


フロントエンド専任開発についてはほぼテックリードの立ち位置だったため、環境構築くらいから<br>
新しいことに挑戦しつつどうしたら開発が楽・効率的に進められるか？を重視し取り組みました。<br>

フルスタック環境での経験からバッドプラクティスの部分(特に CI/CD)を改善しつつ、Next を使用する<br>
環境としてはほぼ最新と言っていい環境で気持ちよく開発ができるような環境が作れたと思います。<br>
svelte の採用案も出ていたため検証したところ、今回の要件である ISR 化部分がかなり辛い<br>
(基本 SSG でナレッジがない)ため採用については見送りとしました。

- React18 + Next + TypeScript
- Redux の単 Store が辛いので Recoil で状態管理を楽に
- SWR を使用して GraphQL の fetch 結果をキャッシングしパフォーマンス向上
- fetch→state 管理を SWR 使用有無と使い分けるため、Generics を使用したカスタムフック化
- MSW を使用することにより BFF からの API 戻り値を mock することにより、開発の高速化
- React-testing-library による Jest でテストできる範囲の増加(UT+IT まで実施可能に)
- Cypress で環境依存エラーが発生しやすいため、Playwright を採用し解決<br>(Playwright は linux 上で起動必須になり依存が発生しにくい)
- eslint の Airbnb ルール適応、Prettier による自動整形、型チェックを npm script で 1 コマンド化
- GitHub Actions にて CI/CD 初期構築

### 当時の Nuxt、現在の Vue についての問題点

2021-2022 にかけて Vue2 から Vue3 が主流になりつつあり、技術記事もぐっと増えたと思います。

- 破壊的変更が比較的多く、置換するだけだと動かない可能性がある
- Vue 単ファイルではなく Nuxt で導入している場合、更に対応コスト感が上がる

Vue3 では以上の点があるため、将来的にアップデートされた場合に置換コストがかかる可能性があり<br>
Anguler の轍を踏まないかが心配なところではあります。

### React が思ったより開発体験が良かった

個人的には React の開発しやすさがすごいので、Vue と比べても以下が Vue で満たされない限りは<br>
React を第一選択肢として上げていきたいかなと思います。

- 純粋に JavaScript なので NodeJS の知識がフルで使える
- 単方向データフローが実装・コード理解しやすい
- 採用事例の幅広さ、問題解決がしやすい、よほど理由がなければ Next の「設定より規約」に乗れる
- computed 等をいちいち実装する必要があり、実装の面倒くささが上がる(漏れ等の可能性も出てくる)
- カスタムフックが便利すぎる

# 生活系

## 本格的な筋トレを始めた

去年の夏くらいから可変ダンベルから集め始めて、一通り筋トレが完結できる環境を整えました。

ジムはコロナの懸念があったり家からの距離、コスト感的にも家でできたほうが良いのでは？となり、<br>
自宅にジムがあって筋トレしない人間はどこにあってもやらないだろうという考えから懸垂台、<br>
可変ダンベル、筋トレ用ベンチ、腹筋ローラー、ストレッチポール、ヨガマットまで揃えました。

懸垂台は部屋が狭くて下の物をいちいち移動する必要がありほぼ使ってないので早く引っ越したい。

## 引っ越し

転職に伴い現職に続いて自宅作業ができる環境になったので、今の家より広い(作業部屋を分けたい意図)<br>
かつ周辺設備が今より充実した箇所に住みたい。前回の引っ越しの時も絶対条件を満たす箇所が出るまで<br>
ひたすら待つ戦法だったので、今回も今年～年度末を目安に決めたい。
