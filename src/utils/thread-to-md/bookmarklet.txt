javascript:(function() { if (!document.URL.includes("https://twitter.com/") || !document.URL.includes("status")) throw new Error("X(Twitter)\u306E\u30B9\u30EC\u30C3\u30C9\u8868\u793A\u3067\u304D\u308B\u30DA\u30FC\u30B8\u3067\u5B9F\u884C\u3057\u3066\u304F\u3060\u3055\u3044"); const texts = Object.values(document.querySelectorAll('[data-testid="cellInnerDiv"]')).slice(0, -1).map((post) => { const [myPost, qt] = post.innerText.split("\u5F15\u7528"), arr = myPost.split(/\r\n|\n/).filter((v) => v), name = arr.splice(0, 1).join(), text = []; for (let i = 0;i <= arr.length; i++) { const elm = arr[i], isConstants = elm === "." || elm === "\xB7" || elm === "\u8FD4\u4FE1\u3092\u30C4\u30A4\u30FC\u30C8\u3057\u307E\u3057\u3087\u3046\u3002" || elm === "\u8FD4\u4FE1" || elm === "\u8FD4\u4FE1\u3092\u30DD\u30B9\u30C8", isReplyCount = Number(elm) > 0, isPostTime = (() => { const isPostTime1 = elm && (elm.length === 3 || elm.length === 4) && elm.includes("\u6642\u9593"), isPostTime2 = elm && (elm.length === 2 || elm.length === 3) && elm.includes("\u5206"), isPostTime3 = elm && (elm.length === 2 || elm.length === 3) && elm.includes("\u79D2"), isPostTime4 = elm && elm.includes((new Date()).getFullYear()) && elm.includes("\u6708") && elm.includes("\u65E5"); return isPostTime1 || isPostTime2 || isPostTime3 || isPostTime4; })(), isID = elm && elm.startsWith("@"); if (elm && !isConstants && !isReplyCount && !isPostTime && !isID) text.push(elm); } return { text: text.join(""), name }; }).filter((v) => !!v.text); console.log(texts); const html = texts.map((text) => { return `${text.name}@\n${text.text},\n`; }).join(""); navigator.clipboard.writeText(html).then(() => alert(`\u51E6\u7406\u6210\u529F\uFF01 \r${html}`)).catch((e) => alert("\u30A8\u30E9\u30FC\uFF01 " + e.message));})();